(self.webpackChunkgame_score_sdk=self.webpackChunkgame_score_sdk||[]).push([[6755],{2649:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var n=i(2616),s=i.n(n)()((function(t){return t[1]}));s.push([t.id,".gp-yandex-sticky{display:flex;justify-content:center;position:fixed;left:50%;transform:translateX(-50%);z-index:100;max-height:100px;overflow:hidden}.gp-yandex-sticky__creative{position:relative}.gp-yandex-sticky_top{top:0}.gp-yandex-sticky_bottom{bottom:0}",""]);const r=s},5374:(t,e,i)=>{"use strict";i.d(e,{$:()=>o,Z:()=>a});var n=i(6558),s=i(9503),r=function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};const o={[s.Uo.RU]:()=>"ЯН",[s.Uo.EN]:()=>"YAN"};class a{constructor(t){this.sdk=t,this.isSupportsPayments=!0,this.isSupportsSubscriptions=!0,this.isOneTimeSubscription=!0,this.isServerValidation=!1,this.isNeedAuthorizeBeforePurchase=!0}mapProducts(t,e){return r(this,void 0,void 0,(function*(){yield this.sdk.ready;try{return(yield this.sdk.getCatalog()).reduce(((t,i)=>{const n=e.find((t=>t.yandexId===i.id));if(n){const e=parseFloat(i.priceValue)||n.price;t.push(Object.assign(Object.assign({},n),{price:e,currencySymbol:i.priceCurrencyCode,currency:i.priceCurrencyCode}))}return t}),[])}catch(i){return n.kg.error(i),e.map((e=>Object.assign(Object.assign({},e),{currencySymbol:(o[t.language]||o[s.Uo.EN])(e.price),currency:"YAN"})))}}))}fetchPurchases(){return r(this,void 0,void 0,(function*(){const t=yield this.sdk.getPurchases();return{payload:{signature:t.signature},purchases:t.map((t=>({productID:t.productID,purchaseToken:t.purchaseToken})))}}))}consumeAllExpired(t,e,i){return r(this,void 0,void 0,(function*(){for(let n=0;n<e.length;n++){const{productID:s,purchaseToken:r}=e[n],o=t.find((t=>t.yandexId===s));o&&o.isSubscription&&(i.find((t=>t.payload.purchaseToken===r))||(console.warn(`Consuming already consumed purchase: ${s}`),yield this.sdk.consume(r)))}}))}purchase(t){return r(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.purchase(t)}))}consume(t){return r(this,void 0,void 0,(function*(){return yield this.sdk.ready,yield this.sdk.consume(t.payload.purchaseToken),{}}))}subscribe(t){return r(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.purchase(t)}))}unsubscribe(t,e){return r(this,void 0,void 0,(function*(){return{}}))}}},5572:(t,e,i)=>{"use strict";i.d(e,{VK:()=>n,yl:()=>s});const n={success:!0,payload:{}},s={success:!1,payload:{}}},9789:(t,e,i)=>{"use strict";i.d(e,{px:()=>s,bH:()=>o,sO:()=>a,pm:()=>d,Go:()=>c,Bi:()=>h});var n=i(1642);function s(t){return`${t}px`}const r={PX:"px",PERCENT:"%"};function o(t){return r[t]}function a(t){d(t.sticky)}function d(t){t&&(t.$el.style.width=`${function(t){let e=window.innerWidth;if("PX"===t.options.maxWidthDimension&&t.options.maxWidth>0&&window.innerWidth>t.options.maxWidth)e=t.options.maxWidth;else if("PERCENT"===t.options.maxWidthDimension&&t.options.maxWidth>0){const i=t.options.maxWidth/100*window.innerWidth;window.innerWidth>t.options.maxWidth&&(e=i)}const i=t.options.fitCanvas&&u()||e;return Math.round(i)}(t)}px`)}function c(t,e){const i=e?{value:t.options.maxWidth,dimension:t.options.maxWidthDimension}:t.options.desktopMaxWidth&&t.options.desktopMaxWidthDimension?{value:t.options.desktopMaxWidth,dimension:t.options.desktopMaxWidthDimension}:{value:t.options.maxWidth,dimension:t.options.maxWidthDimension},n="PERCENT"===i.dimension?.01*i.value*window.innerWidth:i.value;return Math.min(Math.round(t.options.fitCanvas&&u()||n),window.innerWidth)||window.innerWidth}function h(t,e,i){const n=e?{value:t.options.maxHeight,dimension:t.options.maxHeightDimension}:t.options.desktopMaxHeight&&t.options.desktopMaxHeightDimension?{value:t.options.desktopMaxHeight,dimension:t.options.desktopMaxHeightDimension}:{value:t.options.maxHeight,dimension:t.options.maxHeightDimension},s="PERCENT"===n.dimension?.01*n.value*window.innerHeight:n.value;return Math.min(Math.round(s),window.innerHeight)||i}function u(){var t;return window.innerWidth>=640&&(null===(t=(0,n.Z)())||void 0===t?void 0:t.offsetWidth)||0}},2712:(t,e,i)=>{"use strict";i.d(e,{aD:()=>l,FU:()=>y,hc:()=>p});const n=(t,e)=>({type:t,getLink:e}),s=n("facebook",(t=>`//www.facebook.com/sharer/sharer.php?u=${t.url}`)),r=n("whatsapp",(t=>`//api.whatsapp.com/send?text=${t.text}%20${t.url}`)),o=n("telegram",(t=>`//t.me/share/url?url=${t.url}&text=${t.text}`)),a=n("vkontakte",(t=>`//vk.com/share.php?url=${t.url}&title=${t.text}&image=${t.image}`)),d=n("twitter",(t=>`//twitter.com/share?text=${t.text}&url=${t.url}`)),c=n("odnoklassniki",(t=>`//connect.ok.ru/offer?url=${t.url}&title=${t.text}&imageUrl=${t.image}`)),h=n("viber",(t=>`viber://forward?text=${t.text}%20${t.url}`)),u=n("moymir",(t=>`//connect.mail.ru/share?url=${t.url}&title=${t.text}&image_url=${t.image}`)),l=[r,o,a,c,u],y=[s,d,o,r,h],p=[s,d,o,r,h,a,c,u]},1642:(t,e,i)=>{"use strict";function n(){return document.querySelector("canvas")}i.d(e,{Z:()=>n})},209:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var n=i(6558);const s={stringify:t=>btoa(encodeURIComponent(JSON.stringify(t))),parse(t){if(!t)return{};const e=function(t){try{return JSON.parse(decodeURIComponent(atob(t)||"{}"))}catch(t){return""}}(t);return Object.keys(e).length>0?e:JSON.parse(function(t){try{return JSON.parse(atob(t)||"{}")}catch(t){return""}}(t)||"{}")},addShareParamsToUrl(t,e){try{const i=new URL(t);return Object.entries(e).forEach((([t,e])=>{i.searchParams.set(t,e)})),i.href}catch(e){n.kg.error("Invalid URL",t,e)}return t}}},9699:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>O});var n=i(4917),s=i(6558),r=i(8293),o=i(9503),a=i(9789),d=i(3379),c=i.n(d),h=i(2649);c()(h.Z,{insert:"head",singleton:!1}),h.Z.locals;var u,l=i(209),y=function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};!function(t){t.SMALL="small",t.MEDIUM="medium",t.SVG="svg"}(u||(u={}));const p=/yandex.\w+$/;class v{constructor(t,e){var i;this.gp=t,this.config=e,this.app=function(){const t=document.createElement("div");t.id="gs-yandex",document.body.appendChild(t);const e={sticky:null};return window.addEventListener("resize",(()=>(0,a.sO)(e))),{banners:e,createSticky(i){e.sticky||(e.sticky=function(e){const i=document.createElement("div");i.className=`gs-yandex-sticky gs-yandex-sticky_${e.position||"bottom"}`;const n=document.createElement("div");n.id=e.bannerId,n.className="gs-yandex-sticky__creative";const s={$wrapper:i,$el:n,options:e};if(e.maxWidth){const t=(0,a.bH)(e.maxWidthDimension);i.style.maxWidth=`${e.maxWidth}${t}`}if(e.maxHeight){const t=(0,a.bH)(e.maxHeightDimension);i.style.maxHeight=`${e.maxHeight}${t}`}return(0,a.pm)(s),i.appendChild(n),t.appendChild(i),s}(i))},closeSticky(){e.sticky&&(e.sticky.$wrapper.remove(),e.sticky.$wrapper.innerHTML="",e.sticky=null)}}}(),this.appId=parseInt(null===(i=location.hostname.split(".")[0])||void 0===i?void 0:i.split("-")[1],10)||0,this.domainZone="ru",this.shareParams={},this.onFullscreenClose=t=>{},this.onFullscreenError=t=>{};try{const t=/origin=\S+yandex\.(\w+)&/.exec(window.location.hash);t&&(this.domainZone=t[1]||"ru")}catch(t){s.kg.error(t)}}get appUrl(){return`https://yandex.${this.domainZone}/games/play/${this.appId}`}init(){return y(this,void 0,void 0,(function*(){try{const{searchParams:t}=new URL(`${location.origin}/?${location.hash.substring(1)}`);this.appId=this.appId||parseInt(t.get("app-id"),10)}catch(t){s.kg.error(t)}const t=(0,r._)();this.ready=t.ready;const e=[];p.test(location.host)&&e.push("/sdk.js"),e.push(`https://${["sdk","games","s3","yandex","net"].join(".")}/sdk.js`,"https://yandex.ru/games/sdk/v2");for(let t=0;t<e.length;t++){const i=e[t];try{yield(0,n.Z)({src:i,check:t=>"YaGames"in t});break}catch(t){s.kg.error(t)}}try{yield window.YaGames.init(this.config).then((t=>{this.ysdk=t,this.appId=parseInt(t.environment.app.id,10)||this.appId,this.domainZone=t.environment.i18n.tld||this.domainZone;try{this.shareParams=l.Z.parse(this.ysdk.environment.payload)}catch(t){s.kg.error(t)}this.lang=Object.values(o.Uo).includes(t.environment.i18n.lang)?t.environment.i18n.lang:null,this.gp.on("gameStart",(()=>{var t;null===(t=this.ysdk.features.LoadingAPI)||void 0===t||t.ready()})),this.ysdk.on("game_api_pause",(()=>this.gp.pause())),this.ysdk.on("game_api_resume",(()=>this.gp.resume())),this.gp.on("gameplayStart",(()=>{var t;return null===(t=this.ysdk.features.GameplayAPI)||void 0===t?void 0:t.start()})),this.gp.on("gameplayStop",(()=>{var t;return null===(t=this.ysdk.features.GameplayAPI)||void 0===t?void 0:t.stop()}))}))}catch(t){s.kg.error(`Initialization Yandex SDK failed: ${t}`)}finally{t.done(this)}return t.ready}))}checkPlayerAuthorized(){try{return this.ysdk.getPlayer({signed:!0,scopes:!0}).then((t=>{var e;return"lite"!=(null===(e=t._personalInfo)||void 0===e?void 0:e.mode)})).catch((()=>!1))}catch(t){return!1}}getPlayer({signed:t=!1,scopes:e=!1}){return y(this,void 0,void 0,(function*(){return this.ysdk.getPlayer({signed:t,scopes:e}).then((t=>{var e;if("lite"==(null===(e=t._personalInfo)||void 0===e?void 0:e.mode))throw new Error("Not authorized");return{name:t.getName()||"",id:t.getUniqueID()||"",photoSmall:t.getPhoto("small")||"",photoMedium:t.getPhoto("medium")||"",photoLarge:t.getPhoto("large")||"",signature:t.signature}})).catch((()=>({name:"",id:"",photoSmall:"",photoMedium:"",photoLarge:"",signature:""})))}))}login(){return this.ysdk.auth.openAuthDialog().then((()=>!0)).catch(s.kg.error)}showFullscreen(){const t=(0,r._)();this.onFullscreenClose=e=>t.done(e),this.onFullscreenError=e=>t.abort(e);try{this.ysdk.adv.showFullscreenAdv({callbacks:{onClose:t=>this.onFullscreenClose(t),onError:t=>this.onFullscreenError(t)}})}catch(e){t.abort(e)}return t.ready}showRewardedVideo(){const t=(0,r._)();let e=!1;try{this.ysdk.adv.showRewardedVideo({callbacks:{onRewarded:()=>e=!0,onClose:()=>t.done(e),onError:t.abort}})}catch(e){t.abort(e)}return t.ready}loadRTB(){if(this.rtbReady)return this.rtbReady;const t=(0,r._)(),e=window;return e.yandexContextAsyncCallbacks=e.yandexContextAsyncCallbacks||[],(0,n.Z)({src:"//an.yandex.ru/system/context.js",check:t=>{var e,i;return null===(i=null===(e=t.Ya)||void 0===e?void 0:e.Context)||void 0===i?void 0:i.AdvManager}}).then((()=>t.done(e.Ya.Context.AdvManager))).catch(t.abort),this.rtbReady=t.ready,t.ready}getCatalog(){return y(this,void 0,void 0,(function*(){return this.ysdk.getPayments({signed:!0}).then((t=>t.getCatalog().catch((()=>[])))).catch((()=>[]))}))}getPurchases(){return y(this,void 0,void 0,(function*(){return this.ysdk.getPayments({signed:!0}).then((t=>t.getPurchases().catch((()=>[])))).catch((()=>[]))}))}purchase(t){return y(this,void 0,void 0,(function*(){const e=yield this.ysdk.getPayments({signed:!0}),{signature:i,purchaseToken:n}=yield e.purchase({id:t.yandexId});return{signature:i,purchaseToken:n}}))}consume(t){return y(this,void 0,void 0,(function*(){const e=yield this.ysdk.getPayments({signed:!0});return yield e.consumePurchase(t),!0}))}addShortcut(){return y(this,void 0,void 0,(function*(){return!!(yield this.ysdk.shortcut.canShowPrompt()).canShow&&"accepted"===(yield this.ysdk.shortcut.showPrompt()).outcome}))}setLeaderboardScore(t){return y(this,void 0,void 0,(function*(){try{t.score&&(yield this.ysdk.getLeaderboards()).setLeaderboardScore("score",t.score)}catch(t){}}))}addShareParamsToUrl(t,e){return l.Z.addShareParamsToUrl(t,{payload:l.Z.stringify(e)})}makeShareUrl(t){return this.addShareParamsToUrl(this.gp.app.url,t)}getShareParam(t){return this.shareParams?this.shareParams[t]:""}}var m=i(4943),f=i.n(m),k=i(180),g=function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};class w{constructor(t,e){this.sdk=t,this.platformConfig=e,this.isStickyAvailable=!1,this.stickyBanner=null,this.isFullscreenAvailable=!0,this.isRewardedAvailable=!0,this.isPreloaderAvailable=!0,this.needToLeaveFullscreenBeforeAds=!1,this.stickyBannerConfig={isOverlapping:!1,height:0},this.canShowFullscreenBeforeGamePlay=!1;const i=e.banners.find((t=>t.type===k.$.STICKY));this.applyStickyBanner(i)}showPreloader(){return g(this,void 0,void 0,(function*(){return this.isFullscreenAvailable=!1,this.showFullscreen().then((t=>(t?setTimeout((()=>this.isFullscreenAvailable=!0),6e4):this.isFullscreenAvailable=!0,t))).catch((()=>this.isFullscreenAvailable=!0))}))}showFullscreen(){return g(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.showFullscreen().catch((()=>!1))}))}showRewardedVideo(){return g(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.showRewardedVideo().catch((()=>!1))}))}showSticky(t){return g(this,void 0,void 0,(function*(){if(t.useNative)return!!(yield this.sdk.ysdk.adv.showBannerAdv()).stickyAdvIsShowing;const e=(0,r._)();if(this.sdk.app.banners.sticky)return e.done(!0),e.ready;const i=yield this.sdk.loadRTB();return this.applyStickyBanner(t),this.stickyBanner?(this.sdk.app.createSticky(Object.assign({},this.stickyBanner)),i.render({blockId:this.stickyBanner.bannerId,renderTo:this.stickyBanner.bannerId,async:!0,onRender:()=>e.done(!0)}),e.ready):e.done(!1)}))}refreshSticky(t){return g(this,void 0,void 0,(function*(){return t.useNative?!!(yield this.sdk.ysdk.adv.showBannerAdv()).stickyAdvIsShowing:(this.sdk.app.closeSticky(),this.showSticky(t))}))}closeSticky(){var t;return g(this,void 0,void 0,(function*(){(null===(t=this.stickyBanner)||void 0===t?void 0:t.useNative)?yield this.sdk.ysdk.adv.hideBannerAdv():(yield this.sdk.ready,this.sdk.app.closeSticky())}))}applyStickyBanner(t){var e;if(!t)return void(this.isStickyAvailable=!1);const i=f()({tablet:!0,featureDetect:!0});this.stickyBanner=Object.assign({},t),i||(t.desktopBannerId&&(this.stickyBanner.bannerId=t.desktopBannerId),t.desktopMaxHeight&&(this.stickyBanner.maxHeight=t.desktopMaxHeight,this.stickyBanner.maxHeightDimension=t.desktopMaxHeightDimension),t.desktopMaxWidth&&(this.stickyBanner.maxWidth=t.desktopMaxWidth,this.stickyBanner.maxWidthDimension=t.desktopMaxWidthDimension)),this.isStickyAvailable=!!(null===(e=this.stickyBanner)||void 0===e?void 0:e.bannerId)||t.useNative}}var x=function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};class b{constructor(t,e){this.sdk=t,this.gp=e,this.canAddShortcut=!1,this.canRequestReview=!1,this.isAlreadyReviewed=!1,t.ysdk.shortcut.canShowPrompt().then((t=>{this.canAddShortcut=t.canShow})),this._checkCanReview(),e.ready.then((()=>{e.player.on("login",(t=>{t&&this._checkCanReview()}))}))}_checkCanReview(){return this.sdk.ysdk.feedback.canReview().then((t=>(this.canRequestReview=t.value,this.isAlreadyReviewed="GAME_RATED"===t.reason||"REVIEW_WAS_REQUESTED"===t.reason,t)))}addShortcut(){return x(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.addShortcut()}))}requestReview(){return x(this,void 0,void 0,(function*(){yield this.sdk.ready;const t=yield this._checkCanReview();if(!t.value)return{success:!1,rating:0,error:S(t.reason)};const e=yield this.sdk.ysdk.feedback.requestReview().then((({feedbackSent:t})=>!!t)).catch((()=>!1));return e&&(this.isAlreadyReviewed=!0,this.canRequestReview=!1),{success:e,rating:0,error:""}}))}requestGameUrl(){return x(this,void 0,void 0,(function*(){}))}}function S(t){switch(t){case"NO_AUTH":return"not_allowed";case"GAME_RATED":case"REVIEW_ALREADY_REQUESTED":case"REVIEW_WAS_REQUESTED":return"already_rated";default:return t}}var P=function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};class A{constructor(t){this.sdk=t,this.hasCredetials=!1,this.userId="",this.isAuthorizedAtPlatform=!0}getPlayerAuthInfo(){return P(this,void 0,void 0,(function*(){yield this.sdk.ready;const t=yield this.sdk.getPlayer({signed:!0,scopes:!1}).then((({id:t,signature:e})=>({id:t,signature:e}))).catch((()=>({signature:"",id:""})));return this.userId=t.id,this.hasCredetials=!!t.signature,t}))}getPlayerContext(){return P(this,void 0,void 0,(function*(){const t=yield this.getPlayerAuthInfo();return{platformData:t,key:t.id}}))}loginPlayer(){return P(this,void 0,void 0,(function*(){return yield this.sdk.ready,(yield this.sdk.checkPlayerAuthorized())||(yield this.sdk.login().then((t=>{if(!Boolean(t))throw new Error("cancelled")}))),this.sdk.getPlayer({scopes:!0,signed:!0})}))}getPlayer(){return P(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.getPlayer({scopes:!0,signed:!0})}))}logoutPlayer(){return P(this,void 0,void 0,(function*(){return!1}))}publishRecord(t){return P(this,void 0,void 0,(function*(){yield this.sdk.setLeaderboardScore(t)}))}isPlatformAvatar(t){return t.includes("https://games-sdk.yandex.ru")}setCredentials(t){}}var C=i(2712),I=i(5942),E=i(5572),R=function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};class D{constructor(t){this.sdk=t,this.hasIntegratedAuth=!0,this.isExternalLinksAllowed=!1,this.isSecretCodeAuthAvailable=!0,this._hasAuthModal=!1,this.isLogoutAvailable=!1,this.type=I.z.YANDEX,this.socialNetworks=C.aD,this.isSupportsImageUploading=!1,this.hasAccountLinkingFeature=!1,this.isSupportsRemoteVariables=!0,this.isSupportsCloudSaves=!0}getSDK(){return this.sdk}getNativeSDK(){return this.sdk.ysdk}mapGamesCollections(t){var e;return R(this,void 0,void 0,(function*(){try{yield this.sdk.ready;const i=/\/play\/(\d+)/,n=[];for(const r of t){if(!r.url)continue;const t=r.url.match(i);if(!t)continue;const o=Number(t[1]);try{const{isAvailable:t,game:i}=yield null===(e=this.sdk.ysdk.features)||void 0===e?void 0:e.GamesAPI.getGameByID(o);t&&i&&n.push(Object.assign(Object.assign({},r),{name:i.title,url:i.url,assets:{icon:{resources:[{src:i.iconURL}]}}}))}catch(t){s.kg.warn(`Failed to fetch game with appID ${o}`,t)}}return n}catch(e){return s.kg.error("Error while mapping games collections",e),t}}))}requestPermissions(){return R(this,void 0,void 0,(function*(){return E.VK}))}uploadImage(){return null}getVariables(t){return R(this,void 0,void 0,(function*(){const e=Object.entries((null==t?void 0:t.clientParams)||{}).map((([t,e])=>({name:t,value:String(e)})));return this.sdk.ysdk.getFlags({clientFeatures:e})}))}}class ${constructor(t){this.sdk=t,this.isSupportsShare=!0,this.isSupportsNativeShare=!1,this.isSupportsNativePosts=!1,this.isSupportsNativeInvite=!1,this.isSupportsNativeCommunityJoin=!1,this.canJoinCommunity=!0,this.isSupportShareParams=!0}get shareParams(){return this.sdk.shareParams}share(t){return Promise.resolve(!1)}post(t){return Promise.resolve(!1)}invite(t){return Promise.resolve(!1)}getCommunityLink(t){return t}joinCommunity(){return Promise.resolve(!1)}addShareParamsToUrl(t,e){return this.sdk.addShareParamsToUrl(t,e)}makeShareUrl(t){return this.sdk.makeShareUrl(t)}getShareParam(t){return this.sdk.getShareParam(t)}}var W,_=function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))},T=function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)};class N{constructor(t){this.sdk=t,W.set(this,void 0),this.isLocal=!0}ready(){return _(this,void 0,void 0,(function*(){T(this,W,"f")||(yield this.sdk.ready,function(t,e,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?s.call(t,i):s?s.value=i:e.set(t,i)}(this,W,yield this.sdk.ysdk.getStorage(),"f"))}))}set(t,e){return _(this,void 0,void 0,(function*(){yield this.ready(),T(this,W,"f").setItem(t,JSON.stringify(e))}))}get(t){return _(this,void 0,void 0,(function*(){yield this.ready();try{return JSON.parse(T(this,W,"f").getItem(t)||"null")}catch(t){}}))}}W=new WeakMap;var M=function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};class U{constructor(t){this.sdk=t,this.isLocal=!1}ready(){return M(this,void 0,void 0,(function*(){yield this.sdk.ready,this.player=yield this.sdk.ysdk.getPlayer({})}))}set(t,e){return M(this,void 0,void 0,(function*(){yield this.ready();const i=(yield this.player.getData())||{};yield this.player.setData(Object.assign(Object.assign({},i),{[t]:e}))}))}get(t){var e;return M(this,void 0,void 0,(function*(){yield this.ready();const i=(yield this.player.getData())||{};return null!==(e=i[t])&&void 0!==e?e:null}))}}var B=i(5374);function O(t){return e=this,i=void 0,s=function*(){const e=new v(t.gp,{});yield Promise.all([e.init(),t.setupStorage([new U(e),new N(e)])]);const i=yield t.fetchConfig(e.lang);return{adsAdapter:new w(e,i.platformConfig),appAdapter:new b(e,t.gp),playerAdapter:new A(e),platformAdapter:new D(e),socialsAdapter:new $(e),paymentsAdapter:new B.Z(e),projectConfig:i}},new((n=void 0)||(n=Promise))((function(t,r){function o(t){try{d(s.next(t))}catch(t){r(t)}}function a(t){try{d(s.throw(t))}catch(t){r(t)}}function d(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(t){t(i)}))).then(o,a)}d((s=s.apply(e,i||[])).next())}));var e,i,n,s}}}]);